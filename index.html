<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Shodan Parser</title>
  <link rel="stylesheet" href="style.css">
</head>
<body>
  <header>
    <div class="logo">
      <img src="./purple_strike_logo_transparent.PNG" alt="PurpleStrike Logo">
      <h1>Shodan Parser</h1>
    </div>
  </header>

  <main>
    <section class="controls">
      <h2>Upload & Extract</h2>
      <input type="file" id="fileInput" accept=".json" hidden>
      <button id="btnUpload">📂 Upload JSON</button>
      <button id="btnBeautify">✨ Beautify</button>
      <button id="btnValidate">✔ Validate</button>
      <button id="btnSearch">🔍 Search</button>
      <button id="btnExtract">📊 Extract & Download</button>
      <button id="btnClear">🧹 Clear</button>
    </section>

    <section class="editor">
      <textarea id="beautifyInput" placeholder="Paste JSON here..."></textarea>
      <textarea id="beautifyOutput" readonly placeholder="Output..."></textarea>
    </section>

    <section id="csvPreviewSection" style="display:none;">
      <h2>CSV / XLSX Preview</h2>
      <div id="csvPreview"></div>
      <div class="downloads">
        <a id="downloadLink" style="display:none;">Download CSV</a>
        <a id="excelLink" style="display:none;">Download XLSX (merged)</a>
      </div>
    </section>

    <section id="miniSummary" style="display:none;">
      <h2>Summary</h2>
      <ul>
        <li>IPs: <span id="sum_ip">0</span></li>
        <li>Domains: <span id="sum_domains">0</span></li>
        <li>Ports: <span id="sum_ports">0</span></li>
        <li>Cities: <span id="sum_cities">0</span></li>
        <li>Organizations: <span id="sum_orgs">0</span></li>
        <li>Vulnerabilities: <span id="sum_vulns">0</span></li>
        <li>Products: <span id="sum_products">0</span></li>
        <li>Versions: <span id="sum_versions">0</span></li>
        <li>Web Tech: <span id="sum_webtech">0</span></li>
      </ul>
    </section>

    <section>
      <h2>Messages</h2>
      <div id="messages"></div>
    </section>

    <div id="progressWrap" class="progress">
      <div id="progressBar"></div>
      <div id="progressLabel">0%</div>
    </div>
  </main>

  <script src="script.js"></script>
</body>
</html>
